# 文獻 H 使用者管理（User Management）摘要

> 說明：本文件為「摘要版」（去除匯出對話資訊），聚焦「角色權限、帳號生命週期、資料最小化」；若需要完整脈絡與來源線索，請對照同資料夾內較完整的匯出文獻。

## 1) 核心概念與名詞（中英文對照表）
| 術語 (Term) | 一句話定義 | 同義詞/常見誤用 |
| --- | --- | --- |
| 讀者（Patron） | 使用圖書館服務的使用者（學生/教師/行政） | 把所有人都當同一角色，導致權限過大 |
| 角色（Role） | 以職責分組的權限定義（如館員、學生） | 用班級/年級當權限，容易失控 |
| 權限（Permission） | 可執行的操作集合（新增書目、借還等） | 把「看見資料」與「修改資料」混為一談 |
| RBAC（Role-Based Access Control） | 以角色分配權限的模型 | 權限散落在 UI 按鈕顯示，缺少後端強制 |
| 最小權限（Least Privilege） | 僅授與完成工作所需的最低權限 | 方便起見給所有人館員權限 |
| 身分驗證（Authentication） | 確認「你是誰」的流程（登入） | 只靠姓名/班級搜尋就讓人借書 |
| 授權（Authorization） | 決定「你能做什麼」的規則 | 只做登入，未做功能級權限檢查 |
| 帳號生命週期（Account Lifecycle） | 建立、啟用、異動、停用、封存的流程 | 用刪除代替停用，造成不可追溯 |
| 批次匯入（Bulk Import） | 以 CSV/檔案一次建立/更新大量帳號 | 匯入前未做重複/衝突檢查 |
| 身分對應（Identity Mapping） | 將校務系統的 ID 對應到本系統使用者 | 用姓名做主鍵，遇到同名就出錯 |
| 資料最小化（Data Minimization） | 僅蒐集「提供服務必要」的個資 | 先把所有校務資料全收進來，風險升高 |
| 借閱隱私（Circulation Privacy） | 借閱紀錄屬敏感資料，需嚴格控管存取與保存 | 預設保留完整借閱歷史並讓多數人可查 |

## 2) 關鍵理論與必讀脈絡（為何重要）
- **校務情境的身分來源**：學生/教師名冊多半已存在；系統應以「匯入/同步」降低手工維護。
- **最小蒐集與最小揭露**：越少欄位越容易合規與維運；畫面也更簡潔。
- **帳號不刪除、要封存**：系統紀錄要可追溯；刪除會破壞借閱與稽核鏈。
- **權限是資料治理的一部分**：誰能看/改哪些資料，直接影響信任與可用性。

## 3) 標準/規範/權威資源（可搜尋線索）
- OWASP ASVS（應用安全驗證標準，含身分驗證/授權檢查）搜尋：`OWASP ASVS authentication authorization`
- NIST Digital Identity Guidelines（身分識別與驗證指引）搜尋：`NIST digital identity guidelines 800-63`
- ALA 關於讀者隱私與借閱紀錄（原則與案例）搜尋：`ALA privacy library records circulation`
- 台灣個資法（個人資料保護法）搜尋：`台灣 個人資料保護法 校園 個資 最小蒐集`

## 4) 中小學場域的簡化策略（做/不做/為什麼）
- **先做**：CSV 匯入 + 角色分權 + 停用/封存；館員登入（學生端可先不要求登入、以條碼借書）。
- **先不做**：複雜 SSO/校務系統即時同步（先用定期匯入），避免一開始卡在介接。
- **欄位先精簡**：`external_id`、`name`、`org_unit`、`role` 足以支撐借還與報表。
- **離校處理**：畢業/轉出「停用」即可；歷史借閱不必長期保留（見 J 章）。

## 5) 對應到系統的資料欄位建議（至少 8 欄）
| 欄位名 | 型別 | 必填 | 說明 | 例子 |
| --- | --- | --- | --- | --- |
| users.id | string | Y | 系統內部 ID | `u_...` |
| users.external_id | string | Y | 學號/教職員編號 | `S1130123` |
| users.name | string | Y | 姓名 | `王小明` |
| users.role | enum | Y | 角色 | `student` |
| users.org_unit | string | N | 班級/單位 | `501` |
| users.status | enum | Y | 啟用狀態 | `active` |
| audit_events.actor_user_id | string | Y | 誰做了變更 | `u_admin...` |
| audit_events.action | string | Y | 變更動作 | `user.import` |

## 6) 對應到系統的功能設計建議（至少 8 條）
- 需求：名冊維護省力 → 功能：CSV 匯入（新增/更新/停用）+ 匯入預覽 → 為何：符合學校每學期名單變動。
- 需求：避免同名混淆 → 功能：以 `external_id` 作為唯一鍵（唯一性檢查）→ 為何：姓名不可靠。
- 需求：降低權限風險 → 功能：RBAC 與最小權限預設（學生不可看他人借閱）→ 為何：降低個資外洩機率。
- 需求：追溯誰改了什麼 → 功能：對使用者資料的關鍵異動寫入稽核紀錄 → 為何：校園情境常需責任釐清。
- 需求：學期升級簡單 → 功能：批次更新 `org_unit`/年級，並保留異動紀錄 → 為何：每學期固定作業。
- 需求：離校資料可控 → 功能：停用帳號 + 設定保存期限（借閱紀錄）→ 為何：平衡服務與隱私。
- 需求：館員帳號更安全 → 功能：館員強制登入（至少密碼/一次性碼擇一）→ 為何：館員可改資料，風險較高。
- 需求：最小揭露 → 功能：畫面預設只顯示必要欄位（借閱時僅顯示姓名/班級）→ 為何：降低旁觀者取得個資。

## 7) 常見坑與避雷清單（至少 8 條）
- 以姓名當主鍵，匯入後同名互相覆蓋或借錯人。
- 沒有「停用」只剩「刪除」，導致借閱紀錄斷鏈。
- 權限只做前端按鈕隱藏，API 仍可被呼叫（越權風險）。
- 匯入缺少預覽與回滾，名冊一匯入就大規模錯亂。
- 角色過多且沒有治理規則，最後大家都用同一個館員帳號。
- 把敏感欄位（生日、地址、家長資料）直接納入，超出必要性。
- 沒有登入/登出與會話管理，公用電腦容易被冒用。
- 未定義「借閱隱私」可查範圍，造成校內糾紛（誰查了誰的借閱）。

## 8) 可交付給 AI 小助理的任務清單（至少 10 條）
1. 產出使用者匯入 CSV 範本（學生/教師）與欄位說明。
2. 設計 RBAC 權限矩陣（角色 × 功能 × 資料可見範圍）。
3. 撰寫「學期換屆」SOP（升級、畢業停用、資料保留）。
4. 定義館員帳號安全最低要求（密碼規則、共用帳號禁用建議）。
5. 規劃「最小個資」欄位清單與不建議蒐集欄位清單。
6. 設計匯入錯誤回報格式（第幾列、哪個欄位、原因、建議修正）。
7. 產出使用者資料異動的稽核事件清單（action codes）。
8. 擬定「學生端自助借書」的身分驗證方案選項（條碼、PIN、一次性碼）。
9. 盤點「離校/轉出」資料處理方案（封存 vs 刪除）並列風險。
10. 產出 UI 文字規範：避免在畫面顯示過多個資（遮罩、縮寫）。

## 本章關鍵搜尋詞（中英）
使用者管理、角色權限、RBAC、最小權限、身分驗證、授權、批次匯入、名冊同步、帳號生命週期、借閱隱私、Patron、Authentication、Authorization、Role-based access control、Data minimization
