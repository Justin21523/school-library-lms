# MVP 規格（中小學雲端圖書館系統）

本文件把 `starter-design.md` 與 `reference-docs/` 的要點收斂成「可直接進入開發」的最小可行版本（MVP）規格；細節理論與欄位擴充請回看各章文獻（A–J）。

## 1) MVP 目標與非目標
**目標（必做）**
- 低人力可維運：以掃碼/批次匯入/預設值降低輸入成本。
- 核心流程完整：編目 → 館藏（冊）→ 借還/續借/預約 → 查詢 → 基礎報表。
- 資料結構正確：書目（Bibliographic）與館藏冊（Item/Copy）分離，支援多冊、多校區/分館。
- 隱私優先：最小蒐集、最小揭露、可控的借閱紀錄保留。

**非目標（MVP 先不做）**
- 完整 MARC 21 編修器、複雜權威控制、跨館互借、採購（Acquisitions）與期刊管理。
- 深度推薦演算法與大型分析平台（先以可導出的報表/CSV 為主）。

## 2) 角色與權限（最小集合）
| 角色 | 主要權限 |
| --- | --- |
| 系統管理者（Admin） | 系統設定、權限管理、資料匯入匯出、稽核紀錄檢視 |
| 圖書館管理者/館員（Librarian） | 書目/館藏維護、借還作業、預約處理、報表 |
| 教師（Teacher） | 查詢、代班級借閱/團體借閱（選配）、個人借閱 |
| 學生（Student） | 查詢、個人借閱（可選配自助借書）、預約 |
| 訪客（Guest） | 僅公開查詢（如學校希望提供館藏查詢頁） |

權限原則：**借閱紀錄與個資僅授權角色可見**；預設不提供「他人借了什麼」的可見性。

## 3) 核心模組與需求（MVP）
### A–F（既有文獻支撐）
- 編目/分類/主題/Metadata：以「可搜尋、可上架、可統計」為底線；欄位採逐步完善。
- 檢索：支援關鍵字與欄位查詢（書名/作者/ISBN/索書號/主題詞），提供容錯（模糊比對）。
- 館藏管理：狀態（在架/借出/遺失/報廢/修復中）、位置、盤點。

### G 流通（Borrow/Return）
**需求 → 功能 → 為何**
- 借書要快 → 條碼掃描：掃讀者證 + 掃冊條碼 → 3 秒內完成 → 符合中小學尖峰借還情境。
- 降低爭議 → 到期日/續借次數依「借閱政策」自動計算 → 避免人工計算錯誤。
- 避免缺書 → 預約（排隊）+ 還書自動觸發保留通知 → 提升公平性與利用率。

### H 使用者管理（User）
- 匯入：CSV 批次匯入（學號/教職員編號、姓名、班級/單位、角色）。
- 學期處理：升級/畢業/離校的停用與資料保留策略（見隱私章節）。

### I 報表（Stats）
最小報表集（可匯出 CSV）：
- 借閱量（週/月/學期）、熱門書、逾期清單、讀者活躍度（僅對授權角色）。
- 館藏利用：各分類/分區借閱量、零借閱清單（支援館藏發展與汰舊）。

### J 倫理與政策（Privacy/Policy）
- 最小蒐集：僅保存營運所需欄位；學生敏感資料（生日、住址等）**不納入**。
- 借閱紀錄：預設只保留「進行中借閱」；歷史借閱需明確開關與保存期限。

## 4) 主要流程（MVP）
1. **建置**：建立分館/位置 → 匯入使用者 → 建立借閱政策（天數/上限/續借/逾期規則）
2. **建檔**：建立書目（或批次匯入）→ 新增冊（每冊條碼、索書號、位置）
3. **借還**：借出/歸還/續借 → 逾期提醒（可先用報表 + 人工通知）
4. **預約**：讀者預約 → 到書保留 → 逾期未取自動釋出（規則可設定）
5. **盤點**：掃描盤點 → 產出差異清單（在架但未掃/掃到但系統顯示非在架）

## 5) 非功能需求（先寫清楚，才好選技術）
- 可用性：一般操作 3–5 步內完成；手機/平板可用（掃碼）。
- 稽核：關鍵動作（借還/刪除/批次匯入）要有異動紀錄（誰、何時、做了什麼）。
- 匯出：重要資料可匯出（CSV/JSON），避免被單一系統綁死。

## 6) 預設政策（MVP 直接採用，可日後調整）
> 原則：中小學以「不收罰款、以停權/提醒取代」較符合現場；政策以設定檔管理，不寫死在程式。

**學生（student）**
- 借期：14 天
- 同時可借上限：5 冊
- 續借：1 次（若已有他人預約則不可續借）
- 預約上限：3 本
- 到館保留：3 天
- 逾期：到期隔天列入逾期名單；逾期達 7 天「停權新增借閱」（仍可還書/取預約）

**教師（teacher）**
- 借期：30 天
- 同時可借上限：10 冊
- 續借：2 次（若已有他人預約則不可續借）
- 預約上限：5 本
- 到館保留：5 天
- 逾期：到期隔天列入逾期名單；逾期達 14 天「停權新增借閱」

**自助借書（學生端掃碼借書）**
- MVP：先不做（風險與維運成本較高）。
- 擴充：若要做，建議至少加入 PIN/一次性碼、異常偵測（重複掃描/離線）、遺失處理與稽核強化。
